{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["'use strict'\n\nconst KEY_FORM = 'feedback-form-state';\nconst formData = {\n    email: \"\",\n    message: \"\"\n}\n\nreadLocalStorage(formData);\n\nconst form = document.querySelector(\".feedback-form\");\n\nform.elements.email.value = formData.email;\nform.elements.message.value = formData.message;\n\nform.addEventListener(\"input\", handleInput);\nform.addEventListener(\"submit\", handleSubmit);\n\nfunction readLocalStorage(data) {\n    const storageData = localStorage.getItem(KEY_FORM);\n    if (!storageData) {\n        return;\n    }\n    try {\n        const parseData = JSON.parse(storageData);\n        data.email = parseData.email ?? \"\";\n        data.message = parseData.message ?? \"\";\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nfunction handleInput(event) {\n    if (event.target.name === \"email\" || event.target.name === \"message\") {\n        formData[event.target.name] = event.target.value;\n        localStorage.setItem(KEY_FORM, JSON.stringify(formData));\n    }\n}\n\nfunction handleSubmit(event) {\n    event.preventDefault();\n    formData.email = event.target.elements.email.value.trim();\n    formData.message = event.target.elements.message.value.trim();\n\n    if (formData.email.length === 0 || formData.message.length === 0) {\n        alert(\"Fill please all fields\");\n        return;\n    }\n\n    console.log(formData);\n    localStorage.removeItem(KEY_FORM);\n    \n    event.target.reset();\n}\n"],"names":["KEY_FORM","formData","readLocalStorage","form","handleInput","handleSubmit","data","storageData","parseData","error","event"],"mappings":"wFAEA,MAAMA,EAAW,sBACXC,EAAW,CACb,MAAO,GACP,QAAS,EACb,EAEAC,EAAiBD,CAAQ,EAEzB,MAAME,EAAO,SAAS,cAAc,gBAAgB,EAEpDA,EAAK,SAAS,MAAM,MAAQF,EAAS,MACrCE,EAAK,SAAS,QAAQ,MAAQF,EAAS,QAEvCE,EAAK,iBAAiB,QAASC,CAAW,EAC1CD,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,SAASH,EAAiBI,EAAM,CAC5B,MAAMC,EAAc,aAAa,QAAQP,CAAQ,EACjD,GAAKO,EAGL,GAAI,CACA,MAAMC,EAAY,KAAK,MAAMD,CAAW,EACxCD,EAAK,MAAQE,EAAU,OAAS,GAChCF,EAAK,QAAUE,EAAU,SAAW,EACvC,OAAQC,EAAO,CACZ,QAAQ,IAAIA,CAAK,CACpB,CACL,CAEA,SAASL,EAAYM,EAAO,EACpBA,EAAM,OAAO,OAAS,SAAWA,EAAM,OAAO,OAAS,aACvDT,EAASS,EAAM,OAAO,IAAI,EAAIA,EAAM,OAAO,MAC3C,aAAa,QAAQV,EAAU,KAAK,UAAUC,CAAQ,CAAC,EAE/D,CAEA,SAASI,EAAaK,EAAO,CAKzB,GAJAA,EAAM,eAAc,EACpBT,EAAS,MAAQS,EAAM,OAAO,SAAS,MAAM,MAAM,OACnDT,EAAS,QAAUS,EAAM,OAAO,SAAS,QAAQ,MAAM,OAEnDT,EAAS,MAAM,SAAW,GAAKA,EAAS,QAAQ,SAAW,EAAG,CAC9D,MAAM,wBAAwB,EAC9B,MACH,CAED,QAAQ,IAAIA,CAAQ,EACpB,aAAa,WAAWD,CAAQ,EAEhCU,EAAM,OAAO,OACjB"}